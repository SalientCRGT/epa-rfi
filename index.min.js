var ngapp=angular.module("ngapp",["ngRoute","ngResource","ngAnimate"]);ngapp.config(["$routeProvider","$resourceProvider",function(e,r){function a(e){var r=angular.fromJson(e),a=r.data||{};return a.$code=r.code,a.$msg=r.msg,a}function t(e){var r=angular.fromJson(e),a=r.data||[];return a.$code=r.code,a.$msg=r.msg,a}e.when("/",{templateUrl:"ngapp/splash/splash.html",controller:"SplashCtrl",resolve:{facilities:["FacilityResource",function(e){return e.query()}]}}).otherwise({redirectTo:"/"}),r.defaults.actions={get:{method:"GET",params:{id:"@registryId"},transformResponse:a},query:{method:"GET",isArray:!0,transformResponse:t}}}]),ngapp.factory("FacilityResource",["$resource",function(e){return e("/api/facilities/:id")}]),ngapp.controller("SplashCtrl",["$scope","$http","facilities",function(e,r,a){e.facilities=a,e.getFacilities=function(){console.log(e.search),e.search.length>3&&(e.facilities=r.get("/api/facilities/search/"+e.search.split(" ").join("+")).then(function(r){e.facilities=e.transformAll(r.data),console.log("facilities: "+e.facilities)}))},e.transformAll=function(e){var r=angular.fromJson(e),a=r.data||[];return a.$code=r.code,a.$msg=r.msg,a}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nYXBwL25nYXBwLmpzIiwibmdhcHAvc3BsYXNoL3NwbGFzaC5qcyJdLCJuYW1lcyI6WyJuZ2FwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRyZXNvdXJjZVByb3ZpZGVyIiwidHJhbnNmb3JtT25lIiwiZGF0YSIsImpzb25EYXRhIiwiZnJvbUpzb24iLCJyZXN1bHQiLCIkY29kZSIsImNvZGUiLCIkbXNnIiwibXNnIiwidHJhbnNmb3JtQWxsIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInJlc29sdmUiLCJmYWNpbGl0aWVzIiwiRmFjaWxpdHlSZXNvdXJjZSIsInF1ZXJ5Iiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImRlZmF1bHRzIiwiYWN0aW9ucyIsImdldCIsIm1ldGhvZCIsInBhcmFtcyIsImlkIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJpc0FycmF5IiwiZmFjdG9yeSIsIiRyZXNvdXJjZSIsIiRzY29wZSIsIiRodHRwIiwiZ2V0RmFjaWxpdGllcyIsImNvbnNvbGUiLCJsb2ciLCJzZWFyY2giLCJsZW5ndGgiLCJzcGxpdCIsImpvaW4iLCJ0aGVuIiwicmVzcG9uc2UiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLE9BQUFDLFFBQUFDLE9BQUEsU0FBQSxVQUFBLGFBQUEsYUFFQUYsT0FBQUcsUUFBQSxpQkFBQSxvQkFBQSxTQUFBQyxFQUFBQyxHQWlCQSxRQUFBQyxHQUFBQyxHQUNBLEdBQUFDLEdBQUFQLFFBQUFRLFNBQUFGLEdBQ0FHLEVBQUFGLEVBQUFELFFBR0EsT0FGQUcsR0FBQUMsTUFBQUgsRUFBQUksS0FDQUYsRUFBQUcsS0FBQUwsRUFBQU0sSUFDQUosRUFJQSxRQUFBSyxHQUFBUixHQUNBLEdBQUFDLEdBQUFQLFFBQUFRLFNBQUFGLEdBQ0FHLEVBQUFGLEVBQUFELFFBR0EsT0FGQUcsR0FBQUMsTUFBQUgsRUFBQUksS0FDQUYsRUFBQUcsS0FBQUwsRUFBQU0sSUFDQUosRUE3QkFOLEVBQ0FZLEtBQUEsS0FDQUMsWUFBQSwyQkFDQUMsV0FBQSxhQUNBQyxTQUNBQyxZQUFBLG1CQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsYUFJQUMsV0FDQUMsV0FBQSxNQXFCQW5CLEVBQUFvQixTQUFBQyxTQUNBQyxLQUNBQyxPQUFBLE1BQ0FDLFFBQUFDLEdBQUEsZUFDQUMsa0JBQUF6QixHQUVBZ0IsT0FDQU0sT0FBQSxNQUNBSSxTQUFBLEVBQ0FELGtCQUFBaEIsT0FNQWYsTUFBQWlDLFFBQUEsb0JBQUEsWUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUEsMEJDcERBbEMsTUFBQWtCLFdBQUEsY0FBQSxTQUFBLFFBQUEsYUFBQSxTQUFBaUIsRUFBQUMsRUFBQWhCLEdBQ0FlLEVBQUFmLFdBQUFBLEVBRUFlLEVBQUFFLGNBQUEsV0FDQUMsUUFBQUMsSUFBQUosRUFBQUssUUFDQUwsRUFBQUssT0FBQUMsT0FBQSxJQUNBTixFQUFBZixXQUFBZ0IsRUFBQVQsSUFBQSwwQkFBQVEsRUFBQUssT0FBQUUsTUFBQSxLQUFBQyxLQUFBLE1BQ0FDLEtBQUEsU0FBQUMsR0FDQVYsRUFBQWYsV0FBQWUsRUFBQXBCLGFBQUE4QixFQUFBdEMsTUFDQStCLFFBQUFDLElBQUEsZUFBQUosRUFBQWYsZ0JBS0FlLEVBQUFwQixhQUFBLFNBQUFSLEdBQ0EsR0FBQUMsR0FBQVAsUUFBQVEsU0FBQUYsR0FDQUcsRUFBQUYsRUFBQUQsUUFHQSxPQUZBRyxHQUFBQyxNQUFBSCxFQUFBSSxLQUNBRixFQUFBRyxLQUFBTCxFQUFBTSxJQUNBSiIsImZpbGUiOiJpbmRleC5hbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbmdhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbmdhcHAnLCBbJ25nUm91dGUnLCduZ1Jlc291cmNlJywnbmdBbmltYXRlJ10pO1xuXG5uZ2FwcC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRyZXNvdXJjZVByb3ZpZGVyKXtcblxuXHQkcm91dGVQcm92aWRlclxuXHRcdC53aGVuKCcvJywge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICduZ2FwcC9zcGxhc2gvc3BsYXNoLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ1NwbGFzaEN0cmwnLFxuXHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRmYWNpbGl0aWVzOiBmdW5jdGlvbihGYWNpbGl0eVJlc291cmNlKXtcblx0XHRcdFx0XHRyZXR1cm4gRmFjaWxpdHlSZXNvdXJjZS5xdWVyeSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0XHQub3RoZXJ3aXNlKHtcblx0XHRcdHJlZGlyZWN0VG86ICcvJ1xuXHRcdH0pO1xuXHRcblx0Ly8gcmVkdWNlcyByZXNwb25zZSBmcm9tIHtjb2RlOlwiXCIsIG1zZzpcIlwiLCBkYXRhOnt9fSB0byBqdXN0IGRhdGFcblx0ZnVuY3Rpb24gdHJhbnNmb3JtT25lKGRhdGEpe1xuXHRcdHZhciBqc29uRGF0YSA9IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSk7XG5cdFx0dmFyIHJlc3VsdCA9IGpzb25EYXRhLmRhdGEgfHwge307XG5cdFx0cmVzdWx0LiRjb2RlID0ganNvbkRhdGEuY29kZTtcblx0XHRyZXN1bHQuJG1zZyA9IGpzb25EYXRhLm1zZztcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0Ly8gcmVkdWNlcyByZXNwb25zZSBmcm9tIHtjb2RlOlwiXCIsIG1zZzpcIlwiLCBkYXRhOltdfSB0byBqdXN0IGRhdGFcblx0ZnVuY3Rpb24gdHJhbnNmb3JtQWxsKGRhdGEpe1xuXHRcdHZhciBqc29uRGF0YSA9IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSk7XG5cdFx0dmFyIHJlc3VsdCA9IGpzb25EYXRhLmRhdGEgfHwgW107XG5cdFx0cmVzdWx0LiRjb2RlID0ganNvbkRhdGEuY29kZTtcblx0XHRyZXN1bHQuJG1zZyA9IGpzb25EYXRhLm1zZztcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0JHJlc291cmNlUHJvdmlkZXIuZGVmYXVsdHMuYWN0aW9ucyA9IHtcblx0XHRnZXQ6IHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHRwYXJhbXM6IHtpZDonQHJlZ2lzdHJ5SWQnfSxcblx0XHRcdHRyYW5zZm9ybVJlc3BvbnNlOiB0cmFuc2Zvcm1PbmVcblx0XHR9LFxuXHRcdHF1ZXJ5OiB7XG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0aXNBcnJheTogdHJ1ZSxcblx0XHRcdHRyYW5zZm9ybVJlc3BvbnNlOiB0cmFuc2Zvcm1BbGxcblx0XHR9XG5cdH07XG5cbn0pO1xuXG5uZ2FwcC5mYWN0b3J5KCdGYWNpbGl0eVJlc291cmNlJyxmdW5jdGlvbigkcmVzb3VyY2Upe1xuXHRyZXR1cm4gJHJlc291cmNlKCcvYXBpL2ZhY2lsaXRpZXMvOmlkJyk7XG59KTsiLCJuZ2FwcC5jb250cm9sbGVyKCdTcGxhc2hDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgZmFjaWxpdGllcyl7XG4gICAgJHNjb3BlLmZhY2lsaXRpZXMgPSBmYWNpbGl0aWVzO1xuXG4gICAgJHNjb3BlLmdldEZhY2lsaXRpZXMgPSBmdW5jdGlvbigpe1xuICAgIFx0Y29uc29sZS5sb2coJHNjb3BlLnNlYXJjaCk7XG4gICAgXHRpZigkc2NvcGUuc2VhcmNoLmxlbmd0aCA+IDMpe1xuXHQgICAgXHQkc2NvcGUuZmFjaWxpdGllcyA9ICRodHRwLmdldCgnL2FwaS9mYWNpbGl0aWVzL3NlYXJjaC8nICsgJHNjb3BlLnNlYXJjaC5zcGxpdCgnICcpLmpvaW4oJysnKSlcblx0ICAgIFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHQgICAgXHRcdFx0JHNjb3BlLmZhY2lsaXRpZXMgPSAkc2NvcGUudHJhbnNmb3JtQWxsKHJlc3BvbnNlLmRhdGEpO1xuXHQgICAgXHRcdFx0Y29uc29sZS5sb2coJ2ZhY2lsaXRpZXM6ICcgKyAkc2NvcGUuZmFjaWxpdGllcyk7XG5cdCAgICBcdFx0fSk7XG4gICAgXHR9XG4gICAgfTtcbiAgICBcbiAgICAkc2NvcGUudHJhbnNmb3JtQWxsID0gZnVuY3Rpb24oZGF0YSl7XG5cdFx0dmFyIGpzb25EYXRhID0gYW5ndWxhci5mcm9tSnNvbihkYXRhKTtcblx0XHR2YXIgcmVzdWx0ID0ganNvbkRhdGEuZGF0YSB8fCBbXTtcblx0XHRyZXN1bHQuJGNvZGUgPSBqc29uRGF0YS5jb2RlO1xuXHRcdHJlc3VsdC4kbXNnID0ganNvbkRhdGEubXNnO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
