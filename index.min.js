var ngapp=angular.module("ngapp",["ngRoute","ngResource","ngAnimate"]);ngapp.config(["$routeProvider","$resourceProvider",function(e,r){function a(e){var r=angular.fromJson(e),a=r.data||{};return a.$code=r.code,a.$msg=r.msg,a}function t(e){var r=angular.fromJson(e),a=r.data||[];return a.$code=r.code,a.$msg=r.msg,a}e.when("/",{templateUrl:"ngapp/search/search.html",controller:"SearchCtrl",resolve:{facilities:["FacilityResource",function(e){return e.query()}]}}).when("/developer",{templateUrl:"ngapp/developer/developer.html"}).otherwise({redirectTo:"/"}),r.defaults.actions={get:{method:"GET",params:{id:"@registryId"},transformResponse:a},query:{method:"GET",isArray:!0,transformResponse:t}}}]),ngapp.factory("FacilityResource",["$resource",function(e){return e("/api/facilities/:id")}]),ngapp.controller("SearchCtrl",["$scope","$http","facilities","FacilityResource",function(e,r,a,t){e.facilities=a,e.search=function(){for(var r in e.searchParameters)(null===e.searchParameters[r]||""===e.searchParameters[r])&&delete e.searchParameters[r],console.log(r,e.searchParameters[r]);e.facilities=t.query(e.searchParameters)},e.getFacilities=function(){console.log(e.q),e.q.length>3&&(e.facilities=r.get("/api/facilities/search/"+e.q.split(" ").join("+")).then(function(r){e.facilities=e.transformAll(r.data),console.log("facilities: "+e.facilities)}))},e.transformAll=function(e){var r=angular.fromJson(e),a=r.data||[];return a.$code=r.code,a.$msg=r.msg,a}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nYXBwL25nYXBwLmpzIiwibmdhcHAvc2VhcmNoL3NlYXJjaC5qcyJdLCJuYW1lcyI6WyJuZ2FwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRyZXNvdXJjZVByb3ZpZGVyIiwidHJhbnNmb3JtT25lIiwiZGF0YSIsImpzb25EYXRhIiwiZnJvbUpzb24iLCJyZXN1bHQiLCIkY29kZSIsImNvZGUiLCIkbXNnIiwibXNnIiwidHJhbnNmb3JtQWxsIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInJlc29sdmUiLCJmYWNpbGl0aWVzIiwiRmFjaWxpdHlSZXNvdXJjZSIsInF1ZXJ5Iiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImRlZmF1bHRzIiwiYWN0aW9ucyIsImdldCIsIm1ldGhvZCIsInBhcmFtcyIsImlkIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJpc0FycmF5IiwiZmFjdG9yeSIsIiRyZXNvdXJjZSIsIiRzY29wZSIsIiRodHRwIiwic2VhcmNoIiwiaSIsInNlYXJjaFBhcmFtZXRlcnMiLCJjb25zb2xlIiwibG9nIiwiZ2V0RmFjaWxpdGllcyIsInEiLCJsZW5ndGgiLCJzcGxpdCIsImpvaW4iLCJ0aGVuIiwicmVzcG9uc2UiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLE9BQUFDLFFBQUFDLE9BQUEsU0FBQSxVQUFBLGFBQUEsYUFFQUYsT0FBQUcsUUFBQSxpQkFBQSxvQkFBQSxTQUFBQyxFQUFBQyxHQW9CQSxRQUFBQyxHQUFBQyxHQUNBLEdBQUFDLEdBQUFQLFFBQUFRLFNBQUFGLEdBQ0FHLEVBQUFGLEVBQUFELFFBR0EsT0FGQUcsR0FBQUMsTUFBQUgsRUFBQUksS0FDQUYsRUFBQUcsS0FBQUwsRUFBQU0sSUFDQUosRUFJQSxRQUFBSyxHQUFBUixHQUNBLEdBQUFDLEdBQUFQLFFBQUFRLFNBQUFGLEdBQ0FHLEVBQUFGLEVBQUFELFFBR0EsT0FGQUcsR0FBQUMsTUFBQUgsRUFBQUksS0FDQUYsRUFBQUcsS0FBQUwsRUFBQU0sSUFDQUosRUFoQ0FOLEVBQ0FZLEtBQUEsS0FDQUMsWUFBQSwyQkFDQUMsV0FBQSxhQUNBQyxTQUNBQyxZQUFBLG1CQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsYUFJQU4sS0FBQSxjQUNBQyxZQUFBLG1DQUVBTSxXQUNBQyxXQUFBLE1BcUJBbkIsRUFBQW9CLFNBQUFDLFNBQ0FDLEtBQ0FDLE9BQUEsTUFDQUMsUUFBQUMsR0FBQSxlQUNBQyxrQkFBQXpCLEdBRUFnQixPQUNBTSxPQUFBLE1BQ0FJLFNBQUEsRUFDQUQsa0JBQUFoQixPQU1BZixNQUFBaUMsUUFBQSxvQkFBQSxZQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQSwwQkN2REFsQyxNQUFBa0IsV0FBQSxjQUFBLFNBQUEsUUFBQSxhQUFBLG1CQUFBLFNBQUFpQixFQUFBQyxFQUFBaEIsRUFBQUMsR0FDQWMsRUFBQWYsV0FBQUEsRUFFQWUsRUFBQUUsT0FBQSxXQUVBLElBQUEsR0FBQUMsS0FBQUgsR0FBQUksa0JBQ0EsT0FBQUosRUFBQUksaUJBQUFELElBQUEsS0FBQUgsRUFBQUksaUJBQUFELFdBQ0FILEdBQUFJLGlCQUFBRCxHQUVBRSxRQUFBQyxJQUFBSCxFQUFBSCxFQUFBSSxpQkFBQUQsR0FFQUgsR0FBQWYsV0FBQUMsRUFBQUMsTUFBQWEsRUFBQUksbUJBR0FKLEVBQUFPLGNBQUEsV0FDQUYsUUFBQUMsSUFBQU4sRUFBQVEsR0FDQVIsRUFBQVEsRUFBQUMsT0FBQSxJQUNBVCxFQUFBZixXQUFBZ0IsRUFBQVQsSUFBQSwwQkFBQVEsRUFBQVEsRUFBQUUsTUFBQSxLQUFBQyxLQUFBLE1BQ0FDLEtBQUEsU0FBQUMsR0FDQWIsRUFBQWYsV0FBQWUsRUFBQXBCLGFBQUFpQyxFQUFBekMsTUFDQWlDLFFBQUFDLElBQUEsZUFBQU4sRUFBQWYsZ0JBS0FlLEVBQUFwQixhQUFBLFNBQUFSLEdBQ0EsR0FBQUMsR0FBQVAsUUFBQVEsU0FBQUYsR0FDQUcsRUFBQUYsRUFBQUQsUUFHQSxPQUZBRyxHQUFBQyxNQUFBSCxFQUFBSSxLQUNBRixFQUFBRyxLQUFBTCxFQUFBTSxJQUNBSiIsImZpbGUiOiJpbmRleC5hbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbmdhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbmdhcHAnLCBbJ25nUm91dGUnLCduZ1Jlc291cmNlJywnbmdBbmltYXRlJ10pO1xuXG5uZ2FwcC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRyZXNvdXJjZVByb3ZpZGVyKXtcblxuXHQkcm91dGVQcm92aWRlclxuXHRcdC53aGVuKCcvJywge1xuXHRcdFx0dGVtcGxhdGVVcmw6ICduZ2FwcC9zZWFyY2gvc2VhcmNoLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ1NlYXJjaEN0cmwnLFxuXHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRmYWNpbGl0aWVzOiBmdW5jdGlvbihGYWNpbGl0eVJlc291cmNlKXtcblx0XHRcdFx0XHRyZXR1cm4gRmFjaWxpdHlSZXNvdXJjZS5xdWVyeSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0XHQud2hlbignL2RldmVsb3BlcicsIHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnbmdhcHAvZGV2ZWxvcGVyL2RldmVsb3Blci5odG1sJ1xuXHRcdH0pXG5cdFx0Lm90aGVyd2lzZSh7XG5cdFx0XHRyZWRpcmVjdFRvOiAnLydcblx0XHR9KTtcblx0XG5cdC8vIHJlZHVjZXMgcmVzcG9uc2UgZnJvbSB7Y29kZTpcIlwiLCBtc2c6XCJcIiwgZGF0YTp7fX0gdG8ganVzdCBkYXRhXG5cdGZ1bmN0aW9uIHRyYW5zZm9ybU9uZShkYXRhKXtcblx0XHR2YXIganNvbkRhdGEgPSBhbmd1bGFyLmZyb21Kc29uKGRhdGEpO1xuXHRcdHZhciByZXN1bHQgPSBqc29uRGF0YS5kYXRhIHx8IHt9O1xuXHRcdHJlc3VsdC4kY29kZSA9IGpzb25EYXRhLmNvZGU7XG5cdFx0cmVzdWx0LiRtc2cgPSBqc29uRGF0YS5tc2c7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8vIHJlZHVjZXMgcmVzcG9uc2UgZnJvbSB7Y29kZTpcIlwiLCBtc2c6XCJcIiwgZGF0YTpbXX0gdG8ganVzdCBkYXRhXG5cdGZ1bmN0aW9uIHRyYW5zZm9ybUFsbChkYXRhKXtcblx0XHR2YXIganNvbkRhdGEgPSBhbmd1bGFyLmZyb21Kc29uKGRhdGEpO1xuXHRcdHZhciByZXN1bHQgPSBqc29uRGF0YS5kYXRhIHx8IFtdO1xuXHRcdHJlc3VsdC4kY29kZSA9IGpzb25EYXRhLmNvZGU7XG5cdFx0cmVzdWx0LiRtc2cgPSBqc29uRGF0YS5tc2c7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdCRyZXNvdXJjZVByb3ZpZGVyLmRlZmF1bHRzLmFjdGlvbnMgPSB7XG5cdFx0Z2V0OiB7XG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0cGFyYW1zOiB7aWQ6J0ByZWdpc3RyeUlkJ30sXG5cdFx0XHR0cmFuc2Zvcm1SZXNwb25zZTogdHJhbnNmb3JtT25lXG5cdFx0fSxcblx0XHRxdWVyeToge1xuXHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdGlzQXJyYXk6IHRydWUsXG5cdFx0XHR0cmFuc2Zvcm1SZXNwb25zZTogdHJhbnNmb3JtQWxsXG5cdFx0fVxuXHR9O1xuXG59KTtcblxubmdhcHAuZmFjdG9yeSgnRmFjaWxpdHlSZXNvdXJjZScsZnVuY3Rpb24oJHJlc291cmNlKXtcblx0cmV0dXJuICRyZXNvdXJjZSgnL2FwaS9mYWNpbGl0aWVzLzppZCcpO1xufSk7IiwibmdhcHAuY29udHJvbGxlcignU2VhcmNoQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsIGZhY2lsaXRpZXMsIEZhY2lsaXR5UmVzb3VyY2Upe1xuICAgICRzY29wZS5mYWNpbGl0aWVzID0gZmFjaWxpdGllcztcbiAgICBcbiAgICAkc2NvcGUuc2VhcmNoID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gdHJpbSB1bnVzZWQgYXR0cmlidXRlcyBmb3IgY2xlYW5lciByZXF1ZXN0IHVybHNcbiAgICAgICAgZm9yICh2YXIgaSBpbiAkc2NvcGUuc2VhcmNoUGFyYW1ldGVycykge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5zZWFyY2hQYXJhbWV0ZXJzW2ldID09PSBudWxsIHx8ICRzY29wZS5zZWFyY2hQYXJhbWV0ZXJzW2ldID09PSAnJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuc2VhcmNoUGFyYW1ldGVyc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGksICRzY29wZS5zZWFyY2hQYXJhbWV0ZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuZmFjaWxpdGllcyA9IEZhY2lsaXR5UmVzb3VyY2UucXVlcnkoJHNjb3BlLnNlYXJjaFBhcmFtZXRlcnMpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZ2V0RmFjaWxpdGllcyA9IGZ1bmN0aW9uKCl7XG4gICAgXHRjb25zb2xlLmxvZygkc2NvcGUucSk7XG4gICAgXHRpZigkc2NvcGUucS5sZW5ndGggPiAzKXtcblx0ICAgIFx0JHNjb3BlLmZhY2lsaXRpZXMgPSAkaHR0cC5nZXQoJy9hcGkvZmFjaWxpdGllcy9zZWFyY2gvJyArICRzY29wZS5xLnNwbGl0KCcgJykuam9pbignKycpKVxuXHQgICAgXHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdCAgICBcdFx0XHQkc2NvcGUuZmFjaWxpdGllcyA9ICRzY29wZS50cmFuc2Zvcm1BbGwocmVzcG9uc2UuZGF0YSk7XG5cdCAgICBcdFx0XHRjb25zb2xlLmxvZygnZmFjaWxpdGllczogJyArICRzY29wZS5mYWNpbGl0aWVzKTtcblx0ICAgIFx0XHR9KTtcbiAgICBcdH1cbiAgICB9O1xuICAgIFxuICAgICRzY29wZS50cmFuc2Zvcm1BbGwgPSBmdW5jdGlvbihkYXRhKXtcblx0XHR2YXIganNvbkRhdGEgPSBhbmd1bGFyLmZyb21Kc29uKGRhdGEpO1xuXHRcdHZhciByZXN1bHQgPSBqc29uRGF0YS5kYXRhIHx8IFtdO1xuXHRcdHJlc3VsdC4kY29kZSA9IGpzb25EYXRhLmNvZGU7XG5cdFx0cmVzdWx0LiRtc2cgPSBqc29uRGF0YS5tc2c7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
